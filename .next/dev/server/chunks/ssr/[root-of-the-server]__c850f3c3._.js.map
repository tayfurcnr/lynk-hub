{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/kairos/catkin_ws/lynk-hub/app/components/CanvasScene.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\n\ntype CanvasSceneProps = {\n  className?: string;\n};\n\ntype Star = {\n  x: number;\n  y: number;\n  r: number;\n  a: number;\n  dir: number;\n  tw: number;\n};\n\ntype Drone = {\n  baseX: number;\n  baseY: number;\n  ampX: number;\n  ampY: number;\n  size: number;\n  phase: number;\n};\n\nconst createStars = (count: number): Star[] =>\n  Array.from({ length: count }, () => ({\n    x: Math.random(),\n    y: Math.random(),\n    r: 0.6 + Math.random() * 1.4,\n    a: 0.25 + Math.random() * 0.55,\n    dir: Math.random() > 0.5 ? 1 : -1,\n    tw: 0.003 + Math.random() * 0.006,\n  }));\n\nconst createDrones = (): Drone[] => [\n  { baseX: 0.72, baseY: 0.22, ampX: 0.06, ampY: 0.03, size: 0.12, phase: 0.4 },\n  { baseX: 0.28, baseY: 0.62, ampX: 0.05, ampY: 0.04, size: 0.1, phase: 2.1 },\n];\n\nconst drawRoundedRect = (\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  w: number,\n  h: number,\n  r: number\n) => {\n  const radius = Math.min(r, w / 2, h / 2);\n  ctx.beginPath();\n  ctx.moveTo(x + radius, y);\n  ctx.lineTo(x + w - radius, y);\n  ctx.quadraticCurveTo(x + w, y, x + w, y + radius);\n  ctx.lineTo(x + w, y + h - radius);\n  ctx.quadraticCurveTo(x + w, y + h, x + w - radius, y + h);\n  ctx.lineTo(x + radius, y + h);\n  ctx.quadraticCurveTo(x, y + h, x, y + h - radius);\n  ctx.lineTo(x, y + radius);\n  ctx.quadraticCurveTo(x, y, x + radius, y);\n  ctx.closePath();\n};\n\nexport default function CanvasScene({ className }: CanvasSceneProps) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n\n    const stars = createStars(120);\n    const drones = createDrones();\n    const prefersReduced = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n    let rafId = 0;\n    let width = 0;\n    let height = 0;\n    let lastTime = 0;\n\n    const resize = () => {\n      const rect = canvas.getBoundingClientRect();\n      width = Math.max(1, rect.width);\n      height = Math.max(1, rect.height);\n      const dpr = window.devicePixelRatio || 1;\n      canvas.width = Math.round(width * dpr);\n      canvas.height = Math.round(height * dpr);\n      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    };\n\n    const drawStars = () => {\n      for (const star of stars) {\n        ctx.fillStyle = `rgba(125, 211, 252, ${star.a})`;\n        ctx.beginPath();\n        ctx.arc(star.x * width, star.y * height, star.r, 0, Math.PI * 2);\n        ctx.fill();\n      }\n    };\n\n    const drawRadar = (time: number) => {\n      const radarX = width * 0.16;\n      const radarY = height * 0.78;\n      const radius = Math.min(width, height) * 0.26;\n      ctx.save();\n      ctx.translate(radarX, radarY);\n      ctx.strokeStyle = \"rgba(59, 130, 246, 0.18)\";\n      ctx.lineWidth = 1;\n      ctx.beginPath();\n      ctx.arc(0, 0, radius, 0, Math.PI * 2);\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.arc(0, 0, radius * 0.66, 0, Math.PI * 2);\n      ctx.stroke();\n\n      ctx.beginPath();\n      ctx.moveTo(-radius, 0);\n      ctx.lineTo(radius, 0);\n      ctx.moveTo(0, -radius);\n      ctx.lineTo(0, radius);\n      ctx.stroke();\n\n      const sweepAngle = time * 0.0004;\n      ctx.rotate(sweepAngle);\n      const sweep = ctx.createRadialGradient(0, 0, 0, 0, 0, radius);\n      sweep.addColorStop(0, \"rgba(56, 189, 248, 0.22)\");\n      sweep.addColorStop(0.7, \"rgba(56, 189, 248, 0.08)\");\n      sweep.addColorStop(1, \"rgba(56, 189, 248, 0)\");\n      ctx.fillStyle = sweep;\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.arc(0, 0, radius, -0.35, 0.35);\n      ctx.closePath();\n      ctx.fill();\n      ctx.restore();\n    };\n\n    const drawDrone = (drone: Drone, time: number) => {\n      const driftX = Math.sin(time * 0.00022 + drone.phase) * drone.ampX;\n      const driftY = Math.cos(time * 0.00018 + drone.phase) * drone.ampY;\n      const centerX = (drone.baseX + driftX) * width;\n      const centerY = (drone.baseY + driftY) * height;\n      const bodyWidth = width * drone.size;\n      const bodyHeight = bodyWidth * 0.42;\n      const x = centerX - bodyWidth / 2;\n      const y = centerY - bodyHeight / 2;\n\n      ctx.save();\n      ctx.shadowColor = \"rgba(59, 130, 246, 0.3)\";\n      ctx.shadowBlur = 18;\n      ctx.fillStyle = \"rgba(14, 20, 36, 0.85)\";\n      ctx.strokeStyle = \"rgba(125, 177, 255, 0.35)\";\n      ctx.lineWidth = 1;\n      drawRoundedRect(ctx, x, y, bodyWidth, bodyHeight, bodyHeight / 2);\n      ctx.fill();\n      ctx.stroke();\n\n      const rotorRadius = bodyHeight * 0.28;\n      ctx.shadowBlur = 0;\n      ctx.strokeStyle = \"rgba(125, 177, 255, 0.45)\";\n      ctx.beginPath();\n      ctx.arc(x - rotorRadius * 0.2, centerY, rotorRadius, 0, Math.PI * 2);\n      ctx.arc(x + bodyWidth + rotorRadius * 0.2, centerY, rotorRadius, 0, Math.PI * 2);\n      ctx.stroke();\n\n      ctx.fillStyle = \"rgba(125, 211, 252, 0.9)\";\n      ctx.shadowColor = \"rgba(125, 211, 252, 0.8)\";\n      ctx.shadowBlur = 12;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, bodyHeight * 0.12, 0, Math.PI * 2);\n      ctx.fill();\n      ctx.restore();\n    };\n\n    const render = (time: number) => {\n      if (prefersReduced.matches && time !== 0) return;\n      if (!lastTime) lastTime = time;\n      const delta = time - lastTime;\n      lastTime = time;\n      ctx.clearRect(0, 0, width, height);\n      drawStars();\n      drawRadar(time);\n      drones.forEach((drone) => drawDrone(drone, time));\n\n      if (!prefersReduced.matches) {\n        for (const star of stars) {\n          star.a += star.dir * star.tw * delta * 0.06;\n          if (star.a > 0.85 || star.a < 0.2) {\n            star.dir *= -1;\n          }\n        }\n        rafId = window.requestAnimationFrame(render);\n      }\n    };\n\n    resize();\n    render(0);\n    if (!prefersReduced.matches) {\n      rafId = window.requestAnimationFrame(render);\n    }\n\n    window.addEventListener(\"resize\", resize);\n\n    return () => {\n      window.removeEventListener(\"resize\", resize);\n      window.cancelAnimationFrame(rafId);\n    };\n  }, []);\n\n  return <canvas ref={canvasRef} className={className} aria-hidden=\"true\" />;\n}\n"],"names":[],"mappings":"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"}}]
}